import{EquipmentSlot,world}from"@minecraft/server";world.afterEvents.itemUse.subscribe((async t=>{try{const{itemStack:e,source:n}=t;if("minecraft:totem_of_undying"===e.typeId){const t=n.getComponent("equippable"),o=n.getComponent("inventory")?.container,i=n.selectedSlotIndex,m=t?.getEquipment(EquipmentSlot.Offhand);await null,t.setEquipment(EquipmentSlot.Offhand,e),o.setItem(i,m??void 0)}}catch{}}));